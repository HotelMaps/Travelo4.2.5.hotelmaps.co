var stGlobals={};stGlobals.isMobile=/(Android|BlackBerry|iPhone|iPod|iPad|Palm|Symbian)/.test(navigator.userAgent),stGlobals.isMobileWebkit=/WebKit/.test(navigator.userAgent)&&/Mobile/.test(navigator.userAgent),stGlobals.isIOS=/iphone|ipad|ipod/gi.test(navigator.appVersion),jQuery(document).ready(function(e){"use strict";var t=e("header.main-header").outerHeight();e(window).scroll(function(a){e(this).scrollTop()>t?e(".travelo-sticky-header").addClass("page-scroll"):e(".travelo-sticky-header").removeClass("page-scroll")}),e(".header-mobile-nav").off("click").on("click",function(t){return t.preventDefault(),e("body").toggleClass("mobile-nav-active"),!1}),e(document).on("click","body",function(t){e(".mobile-nav-active .mobile-nav").length>0&&!e(t.target).is(".mobile-nav-active .mobile-nav, .mobile-nav-active .mobile-nav *")&&e("body").removeClass("mobile-nav-active")}),e(".mobile-nav .close-btn .close-btn-link").on("click",function(t){t.preventDefault(),e("body").removeClass("mobile-nav-active")}),e(".travelo-mobile-nav .menu-item-has-children").append('<div class="drop-nav"><i class="fas fa-chevron-down"></i></div>'),e(".travelo-mobile-nav").on("click",".drop-nav",function(t){t.stopPropagation(),e(this).parent().toggleClass("active-submenu").children(".sub-menu-dropdown").toggleClass("opened"),e(this).parent().children(".sub-menu-dropdown").hasClass("opened")?e(this).parent().children(".sub-menu-dropdown").slideDown(300):e(this).parent().children(".sub-menu-dropdown").slideUp(300)}),e(".hero-slider-wrap").owlCarousel({animateOut:"fadeOut",animateIn:"fadeIn",items:1,loop:!0,autoplay:!0,nav:!1,dots:!0,mouseDrag:!1,touchDrag:!1}),e(".destinations-masonry-grid").each(function(){var t=e(this).find(".single-destination").length;t>7?e(this).find(".single-destination").attr("data-col","seven-more"):e(this).find(".single-destination").attr("data-col",t)});var a=e('.check-in-out-wrap input[name="datetimes"]'),i=(s=new Date).getDate(),o=s.getMonth()+1,n=s.getFullYear().toString();i<10&&(i="0"+i),o<10&&(o="0"+o);var s="";s="DD/MM/YYYY"==a.attr("format")?i+"/"+o+"-"+n:"MM/DD/YYYY"==a.attr("format")?o+"/"+i+"-"+n:n+"-"+o+"-"+i,a.each(function(t){var a=e(this),i=a.siblings(".date-in").find(".date-value"),o=a.siblings(".date-out").find(".date-value"),n=a.parents(".check-in-out-wrap").find(".form-control");a.daterangepicker({autoApply:!0,minDate:s,locale:{format:date_format,separator:" - "}},function(e,t,n){var s=e.format(date_format),r=t.format(date_format);i.text(s),o.text(r),a.parent().find('input[name="date_from"]').val(s),a.parent().find('input[name="date_to"]').val(r)}),null!=a.parent().find('input[name="date_from"]').val()&&""!=a.parent().find('input[name="date_from"]').val()&&a.data("daterangepicker").setStartDate(a.parent().find('input[name="date_from"]').val()),null!=a.parent().find('input[name="date_to"]').val()&&""!=a.parent().find('input[name="date_to"]').val()&&a.data("daterangepicker").setEndDate(a.parent().find('input[name="date_to"]').val()),n.on("click",function(e){a.click()})});var r=e("#single-availability-dates").daterangepicker({parentEl:"#single-availability-dates-container",autoApply:!0,minDate:s,locale:{format:date_format,separator:" - "}});if(r.on("apply.daterangepicker",function(t,a){var i=a.startDate.format(date_format),o=a.endDate.format(date_format);e(this).closest("form").find('input[name="date_from"]').val(i),e(this).closest("form").find('input[name="date_to"]').val(o)}),r.length>0&&(r.data("daterangepicker").hide=function(){},r.data("daterangepicker").show()),e(".header-cart-wrap .cart-icon").on("click",function(t){e(this).toggleClass("active"),e(".header-cart-wrap .mini-cart-container").toggleClass("show-dropdown")}),e(document).on("click","body",function(t){e(".mini-cart-container.show-dropdown").length>0&&!e(t.target).is(".header-cart-wrap .cart-icon, .header-cart-wrap .cart-icon *, .mini-cart-container.show-dropdown, .mini-cart-container.show-dropdown *")&&(e(".header-cart-wrap .cart-icon").removeClass("active"),e(".header-cart-wrap .mini-cart-container").removeClass("show-dropdown"))}),e(".guest-wrap .guest-value").on("click",function(t){e(".guest-wrap .guest-dropdown-info").toggleClass("show-dropdown")}),e(document).on("click","body",function(t){e(".guest-dropdown-info.show-dropdown").length>0&&!e(t.target).is(".guest-wrap .guest-value, .guest-wrap .guest-value *, .guest-dropdown-info.show-dropdown, .guest-dropdown-info.show-dropdown *")&&e(".guest-wrap .guest-dropdown-info").removeClass("show-dropdown")}),e("input.count-value").each(function(){var t=parseFloat(e(this).attr("min"));t&&t>0&&parseFloat(e(this).val())<t&&e(this).val(t)}),e(document).off("click",".count-wrap .fa-minus, .count-wrap .fa-plus").on("click",".count-wrap .fa-minus, .count-wrap .fa-plus",function(t){var a=e(this).closest(".count-wrap").find(".count-value"),i=parseFloat(a.val()),o=parseFloat(a.attr("min"));i&&""!=i||(i=0),""!=o&&"NaN"!=o||(o=0),e(this).hasClass("fa-plus")?a.val(i+parseFloat(1)):o==i||i<o?a.val(o):a.val(i-parseFloat(1)),a.trigger("change")}),e(".destination-carousel").each(function(t){var a=e(this),i=a.data("col");a.owlCarousel({items:i,loop:!1,dots:!1,nav:!0,margin:10,responsive:{1200:{items:i},992:{items:4},768:{items:3,dots:!0,nav:!1},460:{items:2,dots:!0,nav:!1},0:{items:1,dots:!0,nav:!1}}})}),e(".package-carousel-inner .main-carousel-stage").owlCarousel({items:5,loop:!0,dots:!0,nav:!1,margin:10,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,responsive:{1600:{items:5},1200:{items:4},992:{items:3},490:{items:2},0:{items:1}}}),e(".single-travel-item .featured-imgs").each(function(t){e(this).slick({draggable:!1,dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1})}),e('a[data-toggle="tab"]').on("shown.bs.tab",function(){var t=e(e(this).attr("href")).find(".featured-imgs");t.slick("destroy"),t.slick({draggable:!1,dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1})}).first().trigger("shown.bs.tab"),e(".testimonials-carousel .carousel-wrapper").each(function(t){var a=e(this),i=a.data("col");a.owlCarousel({items:i,loop:!0,nav:!1,dots:!0,margin:10,responsive:{1400:{items:3},992:{items:2},0:{items:1}}})}),e(".sidebar-section .widget-head").each(function(t){var a=e(this),i=a.next(".widget-content");a.on("click",function(e){a.toggleClass("collapsed-widget"),i.toggleClass("content-collapsed"),i.slideToggle(250)})}),e("#price-range").length){var l=e("#price-range").data("slide-step"),c=e("#price-range").data("slide-last-val"),d=c+l,p=e("#price-range").data("def-currency"),u=e("#price-range").data("min-price"),h=e("#price-range").data("max-price");"no_max"==h&&(h=d);var v=e("#price-range").data("url-noprice").replace(/&amp;/g,"&");0==u&&h==d||(e("#price-filter").collapse("show"),e('a[href="#price-filter"]').removeClass("collapsed")),e("#price-range").slider({range:!0,min:0,max:d,step:l,values:[u,h],slide:function(t,a){if(a.values[0]+1>=a.values[1])return!1;e(".min-price-label").text(p+a.values[0]),(h=a.values[1])==d&&(h=c+"+"),e(".max-price-label").text(p+h)},change:function(e,t){0!=t.values[0]&&(v+="&min_price="+t.values[0]),t.values[1]!=d&&(v+="&max_price="+t.values[1]),v.indexOf("?")<0&&(v=v.replace(/&/,"?")),window.location.href=v}}),e(".min-price-label").text(p+e("#price-range").slider("values",0)),e("#price-range").slider("values",1)==d?e(".max-price-label").text(p+c+"+"):e(".max-price-label").text(p+e("#price-range").slider("values",1))}if(e("#single-featured-carousel .featured-photo-carousel").owlCarousel({items:1,loop:!0,nav:!0,dots:!1,autoHeight:!0}),e(".similar-detail-slide .available-travel-package-wrap").owlCarousel({items:4,loop:!1,nav:!0,dots:!1,responsive:{1400:{dots:!0,nav:!1},1200:{items:4,dots:!0,nav:!1},992:{items:3,dots:!0,nav:!1},490:{items:2,dots:!0,nav:!1},0:{items:1,dots:!0,nav:!1}}}),e(".traveler-photos").owlCarousel({items:4,loop:!0,nav:!0,dots:!1,margin:10,responsive:{992:{items:4},490:{items:3},0:{items:2}}}),e(".single-collapse-wrap").each(function(t){var a=e(this),i=a.find(".collapse-btn"),o=a.find(".collapse-content");i.on("click",function(e){e.preventDefault(),i.toggleClass("lap-content"),o.slideToggle(250)})}),e("input[name=kids]").change(function(){var t,a=e('input[name*="child_ages"]').length;if(a>e(this).val()){var i=e(this).val();for(0==i&&(i=1),t=a;t>i;--t)e('input[name*="child_ages"]').eq(t-1).remove()}else for(t=a+1;t<=e(this).val();t++){var o=e('input[name*="child_ages"]').clone().clone();e(".children-age-field-container").append(o)}}),e("#accomodation-type-filter input[type='checkbox']").change(function(){var t=e("#accomodation-type-filter").data("url-noacc_type").replace(/&amp;/g,"&");"all"==e(this).val()?(e("#accomodation-type-filter input[type='checkbox']").prop("checked",!1),e(this).prop("checked",!0)):(e("#accomodation-type-filter #all-type").prop("checked",!1),e("#accomodation-type-filter input[type='checkbox']:checked").each(function(a){t+="&acc_type[]="+e(this).val()})),t.indexOf("?")<0&&(t=t.replace(/&/,"?")),window.location.href=t}),e("#accomodation-rating-filter input[type='checkbox']").change(function(){var t=e("#accomodation-rating-filter").data("url-norating").replace(/&amp;/g,"&");e("#accomodation-rating-filter input[type='checkbox']:checked").each(function(a){t+="&rating[]="+e(this).val()}),t.indexOf("?")<0&&(t=t.replace(/&/,"?")),window.location.href=t}),e("#amenities-filter input[type='checkbox']").change(function(){var t=e("#amenities-filter").data("url-noamenities").replace(/&amp;/g,"&");return e("#amenities-filter input[type='checkbox']:checked").each(function(a){t+="&amenities[]="+e(this).val()}),t.indexOf("?")<0&&(t=t.replace(/&/,"?")),window.location.href=t,!1}),e(".btn-load-more-accs").click(function(t){t.preventDefault();var a=e(this).attr("href"),i=e(this),o=e(this).closest(".available-travel-package-wrap"),n=e(this).closest(".available-travel-package-wrap").attr("class").split(" ").filter(Boolean).join(".");return jQuery.ajax({url:a,type:"GET",success:function(t){var a=e(e.parseHTML(t)).find("."+n);o.children("div").append(a.children("div").html()),e(window).trigger("resize");var s=a.find(".btn-load-more-accs");s.length?i.attr("href",s.attr("href")):i.remove()}}),!1}),e(".photo-gallery-wrapper").each(function(t){e(this).find(".owl-carousel").owlCarousel({items:1,loop:!0,nav:!0,dots:!0,autoHeight:!0})}),e("body").hasClass("single-post")){var f=e(".post-details-wrap").offset().top,m=e(".post-details-wrap").outerHeight(),g=e(".post-details-wrap .post-share-buttons"),w=g.outerHeight(),b=m-w;e(window).scroll(function(t){var a=e(this).scrollTop();if(a>f-100){var i=a-f+100;g.css("top",i),a+w>f+m&&g.css("top",b)}else g.css("top",0)})}e(".related-posts-section .owl-carousel").owlCarousel({items:2,loop:!1,nav:!0,dots:!1,autoHeight:!0,margin:30,responsive:{479:{items:2,margin:30},0:{items:1,margin:15}}}),e("body").on("click",".btn-add-wishlist",function(t){t.preventDefault();var a=e(this);return jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"acc_add_to_wishlist",accommodation_id:a.data("post-id")},success:function(e){1==e.success?(a.addClass("btn-remove-wishlist"),a.removeClass("btn-add-wishlist")):alert(e.result)}}),!1}),e("body").on("click",".btn-remove-wishlist",function(t){t.preventDefault();var a=e(this);return jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"acc_add_to_wishlist",accommodation_id:a.data("post-id"),remove:1},success:function(e){1==e.success?(a.addClass("btn-add-wishlist"),a.removeClass("btn-remove-wishlist")):alert(e.result)}}),!1}),e('.user-dashboard-wrap input[name="birthday"]').daterangepicker({singleDatePicker:!0,locale:{format:date_format,separator:" - "}}),e(".fileinput input[type=file]").each(function(){var t=e(this);t.parent().children(".custom-fileinput").length<1&&(t.after('<input type="text" class="custom-fileinput" />'),void 0!==t.data("placeholder")&&t.next(".custom-fileinput").attr("placeholder",t.data("placeholder")),void 0!==t.prop("class")&&t.next(".custom-fileinput").addClass(t.prop("class")),t.parent().css("line-height",t.outerHeight()+"px"))}),e("body").on("change",".fileinput input[type=file]",function(){var t=this.value,a=t.lastIndexOf("\\");-1==a&&(a=t.lastIndexOf("/")),-1!=a&&(t=t.substring(a+1)),e(this).next(".custom-fileinput").val(t)}),e(document).ajaxStart(function(){e(".opacity-ajax-overlay").show()}).ajaxStop(function(){e(".opacity-ajax-overlay").hide()}),e(document).bind("keydown",function(t){var a=t.keyCode;e(".opacity-overlay:visible").length>0&&27===a&&(t.preventDefault(),e(".opacity-overlay").fadeOut())}),e(document).on("click touchend",".opacity-overlay",function(t){e(t.target).is(".opacity-overlay .popup-content *")||e(".opacity-overlay").fadeOut()}),e("body").on("click",".soap-popupbox",function(t){t.preventDefault();var a=e(this).attr("href");void 0===a&&(a=e(this).data("target")),void 0!==a&&(e(a).length<1||e(this).travPopup({wrapId:"soap-popupbox"}))}),e('#change-date .datepicker-wrap input[type="text"]').each(function(t){e(this).daterangepicker({singleDatePicker:!0,locale:{format:date_format,separator:" - "}})}),e(".single-detail-head .head-icon").on("click",function(t){t.preventDefault(),e(".single-detail-head .post-share-buttons").toggleClass("show")}),e(document).on("click","body",function(t){e(".post-share-buttons.show").length>0&&!e(t.target).is(".single-detail-head .head-icon, .single-detail-head .head-icon *, .single-detail-head .post-share-buttons, .single-detail-head .post-share-buttons *")&&e(".single-detail-head .post-share-buttons").removeClass("show")})}),function(e){var t,a=function(){};a.prototype={constructor:a,init:function(){},open:function(a,i){void 0===a&&(a={});var o=a.wrapId?"#"+a.wrapId:".opacity-overlay";if(e(o).length<1){var n=a.wrapId?" id='"+a.wrapId+"'":"";e("<div class='opacity-overlay' "+n+"><div class='container'><div class='popup-wrapper'><i class='fa fa-spinner fa-spin spinner'></i><div class='col-xs-12 col-sm-9 popup-content'></div></div></div></div>").appendTo("body")}t.wrap=e(o),t.content=t.wrap.find(".popup-content"),t.spinner=t.wrap.find(".spinner"),t.contentContainer=t.wrap.find(".popup-wrapper"),stGlobals.isMobile&&(t.wrap.css({height:e(document).height(),position:"absolute"}),t.contentContainer.css("top",e(window).scrollTop())),t.updateSize();var s=i.attr("href");if(void 0===s&&(s=i.data("target")),"ajax"==a.type)t.content.html(""),t.content.height("auto").css("visibility","hidden"),t.wrap.fadeIn(),t.spinner.show(),e("body").addClass("overlay-open"),e.ajax({url:a.url,type:"post",data:a.data,success:function(e){t.content.html('<a href="javascript:void(0);" data-dismiss="modal" style="text-align: right; display: block;">X</a>'+e),a.callBack&&a.callBack(t),setTimeout(function(){t.content.css("visibility","visible"),t.spinner.hide()},100)}});else if("map"==a.type){t.wrap.fadeIn(),t.spinner.show();var r=a.lngltd.split(","),l=t.content.width();t.content.gmap3({clear:{name:"marker",last:!0}});var c=a.zoom?parseInt(a.zoom,10):12;t.content.height(.5*l).gmap3({map:{options:{center:r,zoom:c}},marker:{values:[{latLng:r}],options:{draggable:!1}}}),e("body").addClass("overlay-open")}else t.content.children().hide(),t.content.children(s).length>0||e(s).appendTo(t.content),e(s).show(),t.spinner.hide(),t.wrap.fadeIn(function(){e("body").addClass("overlay-open")})},close:function(){e("body").removeClass("overlay-open"),e("html").css("overflow",""),e("html").css("margin-right",""),t.spinner.hide(),t.wrap.fadeOut()},updateSize:function(){if(stGlobals.isIOS){var a=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*a;t.contentContainer.css("height",i)}else stGlobals.isMobile&&t.contentContainer.css("height",e(window).height())},getScrollbarSize:function(){if(document.body.scrollHeight<=e(window).height())return 0;if(void 0===t.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),t.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return t.scrollbarSize}},e.fn.travPopup=function(i){return(t=new a).init(),e(document).bind("keydown",function(a){var i=a.keyCode;e(".opacity-overlay:visible").length>0&&27===i&&(a.preventDefault(),t.close())}),e(document).on("click touchend",".opacity-overlay",function(a){e(a.target).is(".opacity-overlay .popup-content *")||(a.preventDefault(),t.close())}),e(window).resize(function(){t.updateSize()}),t.open(i,e(this)),e(document).on("click touchend",".opacity-overlay [data-dismiss='modal']",function(e){t.close()}),e(this)}}(jQuery);